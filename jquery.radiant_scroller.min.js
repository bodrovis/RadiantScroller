/*!
 * jQuery RadiantScroller
 * Version: 0.0.4 (23/07/2014)
 * Copyright (c) 2014 Ilya Bodrov (http://www.radiant-wind.com/plugins/radiant_scroller)
 *
 * Requires: jQuery 1.7.0+
 */
!function(e){e.radiantScroller=function(a,i){var n=e(a);n.vars=e.extend({},e.radiantScroller.defaults,i),n.data("radiantscroller",n),n.animating=!1;var t=n.find(".scroller-el"),r=t.size(),l=n.vars.elementWidth+n.vars.elementMargin,s=Math.ceil(r/n.vars.rows);n.width(l*s-n.vars.elementMargin);do e(t.slice(0,s)).wrapAll('<div class="radiant_scroller_row" />');while((t=t.slice(s)).length>0);n.wrap('<div class="radiant_scroller"></div>').wrap('<div class="radiant_scroller_wrapper" />');var o=n.parent(".radiant_scroller_wrapper"),d=o.parent(".radiant_scroller"),c=n.vars.cols*l-n.vars.elementMargin+"px";o.css("max-width",c),d.css("max-width",c);{var u=e('<div class="radiant-navigation" />').insertAfter(o);u.append(e('<div class="radiant-prev">'+n.vars.prevButtonText+"</div>")),u.append(e('<div class="radiant-next">'+n.vars.nextButtonText+"</div>"))}n.calculateVisibleElements=function(){n.visible_els=(o.width()+n.vars.elementMargin)/l},n.moveElements=function(e){if(!n.animating){"undefined"==typeof e&&(e=1);var a=n.current_page+e;a>=0&&a<n.total_pages&&a!==n.current_page&&(n.animating=!0,o.animate({scrollLeft:o.scrollLeft()+n.visible_els*l*e},n.vars.animateDuration,n.vars.easingType,function(){n.animating=!1}),n.current_page=a,n.vars.addPagination&&n.assignActivePage(!0))}},n.initializePagination=function(){("undefined"==typeof n.old_visible_els||n.old_visible_els!==n.visible_els)&&(n.old_visible_els=n.visible_els,n.total_pages=Math.ceil(s/n.visible_els),n.current_page="undefined"==typeof n.current_page?0:Math.ceil(o.scrollLeft()/(n.visible_els*l)),n.vars.addPagination&&n.drawPagination())},n.drawPagination=function(){d.find(".radiant-pagination").size()>0&&d.find(".radiant-pagination").remove();for(var a=e('<div class="radiant-pagination" />').insertAfter(o),i=0;i<n.total_pages;i++)a.append('<div class="radiant-page" data-page="'+i+'" />');n.assignActivePage()},n.assignActivePage=function(a){a===!0&&d.find(".current-page").removeClass("current-page"),e(d.find(".radiant-page").get(n.current_page)).addClass("current-page")},e(window).bindWithDelay("resize",function(){n.calculateVisibleElements(),n.initializePagination()},500,!0),u.on("click",".radiant-next",function(){n.moveElements(1)}),u.on("click",".radiant-prev",function(){n.moveElements(-1)}),n.vars.useMouseWheel&&o.on("mousewheel",function(e){e.preventDefault(),n.moveElements(e.deltaY)}),d.on("click",".radiant-page",function(){var a=e(this).data("page");if(n.current_page!==a){var i=n.current_page;n.moveElements(a-i)}}),n.calculateVisibleElements(),n.initializePagination()},e.radiantScroller.defaults={cols:2,elementWidth:200,elementMargin:10,easingType:"swing",animateDuration:700,rows:2,useMouseWheel:!1,addPagination:!1,nextButtonText:"",prevButtonText:""},e.fn.radiantScroller=function(a,i){if(void 0===a&&(a={}),"object"==typeof a)new e.radiantScroller(this,a);else{var n=e(this).data("radiantscroller");switch(a){case"next":n.moveElements(1);break;case"prev":n.moveElements(-1);break;case"by":"number"==typeof i&&n.moveElements(i);break;default:"number"==typeof a&&n.moveElements(a-1-n.current_page)}}return this}}(jQuery),function(e){e.fn.bindWithDelay=function(a,i,n,t,r){return e.isFunction(i)&&(r=t,t=n,n=i,i=void 0),n.guid=n.guid||e.guid&&e.guid++,this.each(function(){function l(){var a=e.extend(!0,{},arguments[0]),i=this,l=function(){s=null,n.apply(i,[a])};r||(clearTimeout(s),s=null),s||(s=setTimeout(l,t))}var s=null;l.guid=n.guid,e(this).bind(a,i,l)})}}(jQuery);